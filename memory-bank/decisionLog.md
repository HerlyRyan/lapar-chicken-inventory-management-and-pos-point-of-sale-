# Decision Log

| Date | Decision | Rationale |
|------|----------|-----------|
| 2025-07-10 | Menonaktifkan sementara middleware authentication untuk memudahkan proses pengembangan | Dengan mengomentari middleware 'auth' di routes/web.php, developer dapat mengakses langsung semua fitur aplikasi tanpa perlu login berulang kali selama proses pengembangan dan testing. Ini mempercepat iterasi development sambil tetap mempertahankan struktur authentication yang akan diaktifkan kembali saat production. |
| 2025-07-12 | Implementasi sistem laporan dengan validation bahasa Indonesia dan fitur verifikasi batch | Sesuai dengan requirement wajib: 1) Validasi bahasa Indonesia untuk semua form, 2) Report dengan relasi 2-3 tabel (Sales-Branch-User-SaleItems-FinishedProduct), 3) Filter tanggal/bulan, 4) Grand total untuk transaksi duit, 5) Fitur verifikasi untuk atasan dengan batch processing, 6) Sistem diskon nominal dan persentase untuk kasir. Semua requirement telah diimplementasi dalam ReportController dan SaleController. |
| 2025-07-14 | Database cleanup - removed 18 unused tables and optimized schema | Analysis showed 18 out of 33 tables were completely unused (activity_logs, failed_jobs, etc.) or empty (conversion_recipes, distributions, production_requests, etc.). Removing these improves performance, reduces complexity, and makes maintenance easier while preserving all active business functionality. |
| 2025-07-14 | Database optimization strategy for multi-branch system - reduced from 33 to 18 tables while maintaining full multi-branch functionality | Removed 15 unused/empty tables (activity_logs, failed_jobs, password_resets, personal_access_tokens, conversion_recipes, destruction_reports, distributions, production_requests, purchase_orders, material_suppliers) to improve performance. Added strategic indexes for branch_stocks (polymorphic), stock_movements, and sales to optimize multi-branch queries. Maintained essential tables: branches, branch_stocks, materials, finished_products, semi_finished_products, users, roles, permissions, suppliers, categories, units for full inventory management per branch. |
| 2025-07-14 | Created brand new database from scratch with optimal multi-branch structure | After analyzing all models and application code 100%, created 3 comprehensive migrations: (1) Base tables with users, roles, permissions, branches, suppliers, categories, units, (2) Inventory tables with materials, finished_products, semi_finished_products, branch_stocks (polymorphic), stock_movements, (3) Sales tables with sales and sale_items. Added proper foreign keys, indexes for performance, and comprehensive seeder with realistic data. Database now has 16 optimized tables vs previous 33 bloated tables. |
